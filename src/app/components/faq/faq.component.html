<app-layout (onSchool)="onSchool($event)">
  <div class="bg-white dark:bg-black-thick dark:text-white pb-20" *ngIf="school">
    <div class="layout-container">
      <div class="mx-auto pt-8 lg:pt-10 max-w-4xl">
        <h2 class="text-4xl font-semibold tracking-tight text-gray-700 dark:text-white sm:text-4xl">Frequently asked
          questions</h2>

        <div class="mt-1 pt-8 flex justify-end">
          <input type="search" [(ngModel)]="searchText" (ngModelChange)="search$.next($event)"
            placeholder="Search FAQs..."
            class="block w-full max-w-[400px] rounded-md border border-stone-300 px-4 py-2 text-sm text-stone-900 shadow-sm focus:border-primary outline-none focus:ring-primary">
        </div>

        <dl class="mt-5 pb-32 space-y-6">
          @for (faq of faqs; track $index) {
          <div class="bg-[#f6f6f6]">
            <dt>
              <button (click)="expanded[$index] = !expanded[$index]" type="button"
                class="flex w-full items-start bg-muted-vlight dark:bg-black dark:text-white justify-between text-left text-gray-900 mt-2 p-3"
                aria-controls="faq-0" aria-expanded="false">
                <span class="text-xl" [innerHtml]="faq.question"></span>
                <span class="ml-6 flex h-7 items-center">
                  <i [class]="'mdi text-[25px] mdi-'+(expanded[$index] ? 'minus' : 'plus')"></i>
                </span>
              </button>
            </dt>
            <dd [@enterTrigger]="'fadeIn'" *ngIf="expanded[$index]" class="pt-5 p-3 dark:bg-black/80"
              [id]="'faq-'+$index">
              <p class="text-base/7 text-gray-600 dark:text-white" [innerHTML]="faq.answer"></p>
            </dd>
          </div>
          }

          <div *ngIf="faqs.length === 0" class="py-24">
            <app-empty message="No results found!"></app-empty>
          </div>
        </dl>
      </div>
    </div>
  </div>
</app-layout>